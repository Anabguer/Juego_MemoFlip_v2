(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1415:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(5155),i=a(2115),r=a(8661),l=a.n(r),n=a(1733),c=a(5921),d=a(508),o=a(2193),m=a(2181),x=a(6583),h=a(5229),u=a(3664),f=a(6046);function b(e){let{isOpen:t,onClose:a,onSave:r,currentUser:l}=e,[n,c]=(0,i.useState)({nickname:(null==l?void 0:l.nickname)||"",name:(null==l?void 0:l.name)||"",email:(null==l?void 0:l.email)||""}),[o,b]=(0,i.useState)({}),[p,g]=(0,i.useState)(!1),j=async e=>{if(e.preventDefault(),(()=>{let e={};return n.nickname.trim()?n.nickname.length<3&&(e.nickname="El nickname debe tener al menos 3 caracteres"):e.nickname="El nickname es obligatorio",n.name.trim()?n.name.length<2&&(e.name="El nombre debe tener al menos 2 caracteres"):e.name="El nombre es obligatorio",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(e.email="El email no es v\xe1lido"):e.email="El email es obligatorio",b(e),0===Object.keys(e).length})()){g(!0);try{let e={id:(null==l?void 0:l.id)||"user_".concat(Date.now()),nickname:n.nickname.trim(),name:n.name.trim(),email:n.email.trim().toLowerCase(),createdAt:(null==l?void 0:l.createdAt)||Date.now(),lastLogin:Date.now(),isGuest:!1,progress:(null==l?void 0:l.progress)||{level:1,coins:0,lives:3,lastPlayed:Date.now(),totalScore:0,phase:1}};r(e),a()}catch(e){}finally{g(!1)}}},v=(e,t)=>{c(a=>({...a,[e]:t})),o[e]&&b(t=>({...t,[e]:void 0}))};return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-purple-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-white/10 border border-white/20",children:l?(0,s.jsx)(m.A,{className:"w-6 h-6 text-white"}):(0,s.jsx)(x.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:l?"Actualizar Perfil":"Identificarse"})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-5 h-5 text-white"})})]}),(0,s.jsx)("div",{className:"p-6 space-y-6",children:(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Nickname *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:n.nickname,onChange:e=>v("nickname",e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ".concat(o.nickname?"border-red-500":"border-white/20"),placeholder:"Tu nickname \xfanico",disabled:p})]}),o.nickname&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:o.nickname})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Nombre Completo *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:n.name,onChange:e=>v("name",e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ".concat(o.name?"border-red-500":"border-white/20"),placeholder:"Tu nombre completo",disabled:p})]}),o.name&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:o.name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Email *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:n.email,onChange:e=>v("email",e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ".concat(o.email?"border-red-500":"border-white/20"),placeholder:"tu@email.com",disabled:p})]}),o.email&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:o.email})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 bg-white/10 hover:bg-white/20 text-white font-medium rounded-xl transition-colors border border-white/20",disabled:p,children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:p,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"w-4 h-4"}),l?"Actualizar":"Guardar"]})})]})]})}),(0,s.jsx)("div",{className:"p-6 border-t border-white/10 bg-white/5",children:(0,s.jsx)("div",{className:"p-3 bg-blue-500/10 rounded-xl border border-blue-500/20",children:(0,s.jsxs)("p",{className:"text-blue-300 text-sm",children:["\uD83D\uDCA1 ",(0,s.jsx)("strong",{children:"Informaci\xf3n:"})," Tus datos se guardan localmente en tu dispositivo.",l?" Actualiza tu informaci\xf3n cuando quieras.":" Puedes identificarte m\xe1s tarde si cambias de opini\xf3n."]})})})]})})]}):null}function p(e){let{onStartGame:t}=e,[a,r]=(0,i.useState)([]),[m,x]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),{loadProgress:f,getProgress:p,currentUser:g,setCurrentUser:j}=(0,o.T)(),v=p();return(0,i.useEffect)(()=>{x(!0)},[]),(0,i.useEffect)(()=>{let e=()=>{let e={id:Date.now()+Math.random(),left:100*Math.random()+"%",duration:4*Math.random()+3+"s"};r(t=>[...t,e]),setTimeout(()=>{r(t=>t.filter(t=>t.id!==e.id))},7e3)},t=setInterval(e,1500);for(let t=0;t<3;t++)setTimeout(e,500*t);return()=>clearInterval(t)},[]),(0,i.useEffect)(()=>{f()},[f]),(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",fontFamily:"Arial, sans-serif"},className:"jsx-e96dd69edffe903e min-h-screen relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-e96dd69edffe903e fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:a.map(e=>(0,s.jsx)(n.P.div,{className:"absolute w-10 h-12 rounded-lg shadow-lg",style:{left:e.left,background:"linear-gradient(45deg, #ffd700, #ffed4e)",animation:"fall ".concat(e.duration," linear infinite")},initial:{opacity:0},animate:{opacity:1}},e.id))}),(0,s.jsx)("div",{className:"jsx-e96dd69edffe903e flex items-center justify-center min-h-screen p-4 relative z-10",children:(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center bg-white/10 backdrop-blur-xl rounded-3xl p-12 md:p-16 shadow-2xl border-2 border-white/20 max-w-lg w-full mx-4",children:[(0,s.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"mb-8",children:(0,s.jsx)("div",{className:"jsx-e96dd69edffe903e flex justify-center mb-6",children:(0,s.jsx)("img",{src:"/logo.png",alt:"MemoFlip",style:{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))"},className:"jsx-e96dd69edffe903e max-w-48 h-auto drop-shadow-lg"})})}),(0,s.jsx)(n.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-xl md:text-2xl text-white/90 mb-12 font-medium leading-relaxed",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:"\xa1No es un simple juego de memoria! Supera mec\xe1nicas desafiantes"}),(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.9},className:"space-y-4",children:[(0,s.jsxs)(n.P.button,{whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},onClick:t,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold text-xl md:text-2xl py-4 px-8 rounded-full shadow-xl border-3 border-white hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3",style:{boxShadow:"0 8px 20px rgba(255, 215, 0, 0.4)"},children:[(0,s.jsx)(c.A,{className:"w-6 h-6"}),"JUGAR"]}),(0,s.jsxs)(n.P.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>u(!0),className:"w-full bg-white/10 hover:bg-white/20 text-white font-medium text-lg py-3 px-6 rounded-full border border-white/30 hover:border-white/50 transition-all duration-300 flex items-center justify-center gap-3 backdrop-blur-sm",children:[(0,s.jsx)(d.A,{className:"w-5 h-5"}),g?"Actualizar Perfil":"Identificarse"]})]}),m&&v.level>1&&(0,s.jsxs)("div",{className:"jsx-e96dd69edffe903e mt-8 text-white/70 text-sm",children:["Nivel: ",v.level," | Monedas: ",v.coins]})]})}),(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"fixed bottom-5 left-1/2 transform -translate-x-1/2 text-white/70 text-sm text-center z-20",children:"\xa9 2024 @intocables13 - Todos los derechos reservados"}),(0,s.jsx)(b,{isOpen:h,onClose:()=>u(!1),onSave:e=>{j(e),u(!1)},currentUser:g}),(0,s.jsx)(l(),{id:"e96dd69edffe903e",children:"@keyframes fall{0%{transform:translatey(-100px)rotate(0deg);opacity:0}5%{opacity:1}95%{opacity:1}100%{transform:translatey(calc(100vh + 100px))rotate(360deg);opacity:0}}"})]})}var g=a(6365),j=a(5067);function v(e){let{onLevelSelect:t,onBack:a}=e,[r,l]=(0,i.useState)(null),[n,c]=(0,i.useState)(1),d=(0,g.Z8)(),o=d.filter(e=>e.phase===n),m=Math.max(...d.map(e=>e.phase));return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 p-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Seleccionar Nivel"}),(0,s.jsx)("p",{className:"text-white/80",children:"Elige el nivel que quieres jugar"}),(0,s.jsx)("div",{className:"mt-4 flex justify-center gap-2",children:Array.from({length:m},(e,t)=>t+1).map(e=>(0,s.jsxs)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-lg transition-all ".concat(n===e?"bg-yellow-400 text-black font-bold":"bg-white/20 text-white hover:bg-white/30"),children:["Fase ",e]},e))})]}),(0,s.jsx)("button",{onClick:a,className:"mb-6 px-6 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-all",children:"← Volver"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4",children:["Niveles Disponibles - Fase ",n,(0,s.jsxs)("span",{className:"text-sm font-normal text-white/70 ml-2",children:["(",o.length," niveles)"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:o.map(e=>(0,s.jsxs)("button",{onClick:()=>l(e.id),className:"p-4 rounded-lg text-center transition-all ".concat(r===e.id?"bg-yellow-400 text-black shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30"," ").concat(e.isBoss?"ring-2 ring-yellow-400":""),children:[(0,s.jsxs)("div",{className:"font-bold text-lg",children:[e.isBoss?"\uD83D\uDC51":""," ",e.id]}),(0,s.jsxs)("div",{className:"text-sm opacity-80",children:[e.pairs," pares"]}),e.isBoss&&(0,s.jsx)("div",{className:"text-xs font-bold text-yellow-300",children:"BOSS"})]},e.id))})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:r?(0,s.jsx)(w,{level:(0,g.$X)(r),onPlay:()=>t(r)}):(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Informaci\xf3n del Nivel"}),(0,s.jsx)("p",{className:"text-white/70",children:"Selecciona un nivel para ver sus detalles"})]})})]})]})})}function w(e){let{level:t,onPlay:a}=e;return(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2",children:[t.isBoss?"\uD83D\uDC51 ":"","Nivel ",t.id]}),(0,s.jsx)("p",{className:"text-white/80",children:t.description})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Pares"}),(0,s.jsx)("div",{className:"text-white font-bold text-lg",children:t.pairs})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Tiempo"}),(0,s.jsx)("div",{className:"text-white font-bold text-lg",children:(e=>{if(0===e)return"Sin l\xedmite";let t=Math.floor(e/60),a=e%60;return t>0?"".concat(t,":").concat(a.toString().padStart(2,"0")):"".concat(a,"s")})(t.timeSec)})]})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Dificultad"}),(0,s.jsx)("div",{className:"font-bold text-lg ".concat((e=>{switch(e){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";default:return"text-gray-400"}})(t.difficulty)),children:(e=>{switch(e){case"easy":return"F\xe1cil";case"medium":return"Medio";case"hard":return"Dif\xedcil";default:return"Desconocido"}})(t.difficulty)})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-white/70 text-sm mb-2",children:"Mec\xe1nicas"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.mechanics.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white/20 rounded-lg px-3 py-1 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:(0,j.mA)(e)}),(0,s.jsx)("span",{className:"text-white text-sm capitalize",children:"basic"===e?"B\xe1sico":e})]},t))})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Recompensa"}),(0,s.jsxs)("div",{className:"text-yellow-400 font-bold text-lg",children:["\uD83E\uDE99 ",t.rewards.coins," monedas"]})]}),(0,s.jsx)("button",{onClick:a,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-bold py-3 px-6 rounded-lg hover:from-yellow-500 hover:to-orange-600 transition-all transform hover:scale-105",children:t.isBoss?"\uD83D\uDC51 JUGAR BOSS":"\uD83C\uDFAE JUGAR NIVEL"})]})]})}var N=a(4342),y=a(7853),k=a.n(y),S=a(9228),A=a(4398),C=a(5870),M=a(5130),D=a(2068);function E(e){let{isOpen:t,onClose:a}=e,[r,l]=(0,i.useState)(!0),[n,c]=(0,i.useState)(!1),{currentUser:d,setCurrentUser:m}=(0,o.T)();return((0,i.useEffect)(()=>{t&&l(A.Z.isSoundEnabled())},[t]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-purple-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-white/10 border border-white/20",children:(0,s.jsx)(C.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Configuraci\xf3n"})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-5 h-5 text-white"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:"\uD83D\uDD0A Audio"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,s.jsx)(M.A,{className:"w-6 h-6 text-green-400"}):(0,s.jsx)(D.A,{className:"w-6 h-6 text-red-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white font-medium",children:r?"Sonido Activado":"Sonido Desactivado"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:r?"M\xfasica y efectos activos":"Modo silencioso"})]})]}),(0,s.jsx)("button",{onClick:()=>{let e=!r;l(e),A.Z.setEnabled(e),e&&A.Z.play("cartavolteada")},className:"px-4 py-2 rounded-xl font-semibold transition ".concat(r?"bg-green-500/20 text-green-400 border border-green-400/30 hover:bg-green-500/30":"bg-red-500/20 text-red-400 border border-red-400/30 hover:bg-red-500/30"),children:r?"Desactivar":"Activar"})]})]}),(0,s.jsx)("div",{className:"border-t border-white/10"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:"\uD83D\uDC64 Cuenta"}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-blue-500/20 border border-blue-400/30",children:(0,s.jsx)(x.A,{className:"w-6 h-6 text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white font-medium",children:"Registro de Usuario"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Guarda tu progreso y compite con otros jugadores"})]})]}),(0,s.jsx)("button",{onClick:()=>{c(!0)},className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold hover:from-blue-700 hover:to-purple-700 transition shadow-lg",children:d?"Actualizar Perfil":"Crear Cuenta"})]})]})]}),(0,s.jsx)("div",{className:"p-6 border-t border-white/10 bg-white/5",children:(0,s.jsx)("p",{className:"text-center text-sm text-gray-400",children:"MemoFlip v1.0 - Desarrollado con ❤️"})})]})}),(0,s.jsx)(b,{isOpen:n,onClose:()=>c(!1),onSave:e=>{m(e),c(!1)},currentUser:d})]}):null}var T=a(8854),z=a(3997),R=a(6613),F=a(9347);let P=[{position:1,name:"MemoMaster",level:847,coins:12500,avatar:"\uD83D\uDC51"},{position:2,name:"CardWizard",level:623,coins:9800,avatar:"\uD83E\uDDD9‍♂️"},{position:3,name:"FlipChamp",level:445,coins:7200,avatar:"\uD83C\uDFC6"},{position:4,name:"MemoryPro",level:389,coins:6500,avatar:"\uD83C\uDFAF"},{position:5,name:"BrainTrainer",level:312,coins:5200,avatar:"\uD83E\uDDE0"},{position:6,name:"QuickMatch",level:298,coins:4800,avatar:"⚡"},{position:7,name:"CardHunter",level:267,coins:4200,avatar:"\uD83C\uDFB4"},{position:8,name:"PuzzleSolver",level:234,coins:3800,avatar:"\uD83E\uDDE9"},{position:9,name:"SpeedRunner",level:198,coins:3200,avatar:"\uD83C\uDFC3‍♂️"},{position:10,name:"You",level:156,coins:2800,avatar:"\uD83D\uDC64"}];function B(e){let{isOpen:t,onClose:a}=e;return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-purple-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-lg bg-white/10 border border-white/20",children:(0,s.jsx)(R.A,{className:"w-5 h-5 text-yellow-400"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Ranking Global"})]}),(0,s.jsx)("button",{onClick:a,className:"p-1.5 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-4 h-4 text-white"})})]}),(0,s.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border ".concat((e=>{switch(e){case 1:return"bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 border-yellow-400/30";case 2:return"bg-gradient-to-r from-gray-400/20 to-gray-500/20 border-gray-400/30";case 3:return"bg-gradient-to-r from-amber-500/20 to-amber-600/20 border-amber-400/30";default:return"bg-white/5 border-white/10"}})(e.position)),children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(e=>{switch(e){case 1:return(0,s.jsx)(T.A,{className:"w-6 h-6 text-yellow-400"});case 2:return(0,s.jsx)(z.A,{className:"w-6 h-6 text-gray-300"});case 3:return(0,s.jsx)(z.A,{className:"w-6 h-6 text-amber-600"});default:return(0,s.jsxs)("span",{className:"text-white font-bold text-lg",children:["#",e]})}})(e.position)}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/10 border border-white/20 flex items-center justify-center text-lg",children:e.avatar})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-white font-semibold text-sm truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Nivel ",e.level]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,s.jsx)("p",{className:"text-yellow-400 font-semibold text-sm",children:e.coins.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"monedas"})]})]},e.position))})}),(0,s.jsx)("div",{className:"p-4 border-t border-white/10 bg-white/5 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Actualizado hace 2 minutos"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,s.jsx)(F.A,{className:"w-3 h-3"}),"Tu posici\xf3n: #10"]})]})})]})})]}):null}var I=a(3457),L=a(8055),_=a(6983),O=a(8314),V=a(3511),Z=a(1849);let G=[{id:"ocean",name:"Oc\xe9ano",primary:"#0ea5e9",secondary:"#0284c7",accent:"#38bdf8",background:"from-slate-800 via-blue-900 to-slate-900",cardBackground:"bg-blue-500/10",text:"text-blue-100",levelRange:[1,50]},{id:"forest",name:"Bosque",primary:"#22c55e",secondary:"#16a34a",accent:"#4ade80",background:"from-slate-800 via-green-900 to-slate-900",cardBackground:"bg-green-500/10",text:"text-green-100",levelRange:[51,100]},{id:"volcano",name:"Volc\xe1n",primary:"#f97316",secondary:"#ea580c",accent:"#fb923c",background:"from-slate-800 via-orange-900 to-slate-900",cardBackground:"bg-orange-500/10",text:"text-orange-100",levelRange:[101,150]},{id:"crystal",name:"Cristales",primary:"#a855f7",secondary:"#9333ea",accent:"#c084fc",background:"from-slate-800 via-purple-900 to-slate-900",cardBackground:"bg-purple-500/10",text:"text-purple-100",levelRange:[151,200]},{id:"desert",name:"Desierto",primary:"#eab308",secondary:"#ca8a04",accent:"#facc15",background:"from-slate-800 via-yellow-900 to-slate-900",cardBackground:"bg-yellow-500/10",text:"text-yellow-100",levelRange:[201,250]},{id:"space",name:"Espacio",primary:"#6366f1",secondary:"#4f46e5",accent:"#818cf8",background:"from-slate-800 via-indigo-900 to-slate-900",cardBackground:"bg-indigo-500/10",text:"text-indigo-100",levelRange:[251,300]},{id:"city",name:"Ciudad",primary:"#64748b",secondary:"#475569",accent:"#94a3b8",background:"from-slate-800 via-slate-700 to-slate-900",cardBackground:"bg-slate-500/10",text:"text-slate-100",levelRange:[301,350]},{id:"garden",name:"Jard\xedn",primary:"#10b981",secondary:"#059669",accent:"#34d399",background:"from-slate-800 via-emerald-900 to-slate-900",cardBackground:"bg-emerald-500/10",text:"text-emerald-100",levelRange:[351,400]},{id:"galaxy",name:"Galaxia",primary:"#8b5cf6",secondary:"#7c3aed",accent:"#a78bfa",background:"from-slate-800 via-violet-900 to-slate-900",cardBackground:"bg-violet-500/10",text:"text-violet-100",levelRange:[401,450]},{id:"cosmic",name:"C\xf3smico",primary:"#ec4899",secondary:"#db2777",accent:"#f472b6",background:"from-slate-800 via-pink-900 to-slate-900",cardBackground:"bg-pink-500/10",text:"text-pink-100",levelRange:[451,500]}];function q(e){return G.find(t=>e>=t.levelRange[0]&&e<=t.levelRange[1])||G[G.length-1]}let J=e=>{let{isOpen:t,onClose:a,onWatchAd:r}=e,{getTimeUntilNextLife:l}=(0,o.T)(),[n,c]=(0,i.useState)(0);return((0,i.useEffect)(()=>{if(!t)return;let e=()=>{c(l())};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[t,l]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 via-red-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-1 rounded-lg bg-white/10 border border-white/20",children:(0,s.jsx)(I.A,{className:"w-4 h-4 text-red-400"})}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:"\xa1Sin Vidas!"})]}),(0,s.jsx)("button",{onClick:a,className:"p-1 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-3",children:(0,s.jsx)("div",{className:"text-red-500",style:{fontSize:"80px",animation:"shake 0.5s ease-in-out infinite alternate",filter:"drop-shadow(0 0 10px rgba(239, 68, 68, 0.5))"},children:"\uD83D\uDC94"})}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Te has quedado sin vidas. Puedes esperar o ver un anuncio."}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-lg",children:"⏰"}),(0,s.jsx)("span",{className:"font-semibold text-white text-sm",children:"Pr\xf3xima vida en:"})]}),(0,s.jsx)("div",{className:"text-xl font-bold text-blue-400",children:(e=>{let t=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return"".concat(t,":").concat(a.toString().padStart(2,"0"))})(n)}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Las vidas se regeneran cada 30 minutos"})]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:r,className:"px-6 py-2 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white font-bold hover:from-green-600 hover:to-green-700 transition text-sm",children:"Ver Video"})})]})]})})]}):null};class U{async loadAd(){return new Promise(e=>{setTimeout(()=>{this.isAdLoaded=!0,e(!0)},1e3)})}async showLifeAd(){return this.isShowingAd?{success:!1,error:"Ya se est\xe1 mostrando un video"}:this.isAdLoaded||await this.loadAd()?(this.isShowingAd=!0,new Promise(e=>{setTimeout(()=>{this.isShowingAd=!1,this.isAdLoaded=!1,Math.random()>.1?e({success:!0,reward:{type:"life",amount:1}}):e({success:!1,error:"El video no se complet\xf3 correctamente"})},5e3)})):{success:!1,error:"No se pudo cargar el video"}}async showCoinsAd(){return this.isShowingAd?{success:!1,error:"Ya se est\xe1 mostrando un anuncio"}:this.isAdLoaded||await this.loadAd()?(this.isShowingAd=!0,new Promise(e=>{setTimeout(()=>{this.isShowingAd=!1,this.isAdLoaded=!1;let t=Math.floor(50*Math.random())+10;Math.random()>.1?e({success:!0,reward:{type:"coins",amount:t}}):e({success:!1,error:"El anuncio no se complet\xf3 correctamente"})},5e3)})):{success:!1,error:"No se pudo cargar el anuncio"}}isAdAvailable(){return!this.isShowingAd}async preloadAd(){this.isAdLoaded||this.isShowingAd||await this.loadAd()}constructor(){this.isAdLoaded=!1,this.isShowingAd=!1}}let X=new U;function Y(e){var t;let{level:a,onBack:r,onLevelComplete:d,onLevelFail:m}=e,{currentCards:x,setCurrentCards:u,flipCard:f,closeCard:b,matchCards:p,resetCards:v,setCurrentLevelConfig:w,coins:y,lives:T,setPaused:z,isPaused:F,addCoins:P,setCoins:G,setLives:U,loseLife:Y,gainLife:H,addEvent:$,resetGame:W,setCurrentLevel:Q,checkLifeRegeneration:K,currentLevel:ee,getTimeUntilNextLife:et}=(0,o.T)(),ea=void 0!==ee?ee:a,[es,ei]=(0,i.useState)([]),[er,el]=(0,i.useState)(!1),[en,ec]=(0,i.useState)((0,g.$X)(ea)),[ed,eo]=(0,i.useState)(!1),[em,ex]=(0,i.useState)(!1),eh=(0,i.useRef)(!1);(0,i.useEffect)(()=>{K()},[]),(0,i.useEffect)(()=>{let e=setInterval(()=>{K()},6e4);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{var e;let t=(0,g.$X)(ea);ec(t),(null==t||null==(e=t.mechanics)?void 0:e.includes("frozen"))&&(e4.current=(0,j.ny)(Date.now(),{intervalMs:6e3,durationMs:3e3})),t&&eQ()},[ea]),(0,i.useEffect)(()=>{void 0!==a&&void 0===ee&&Q(a)},[a,ee,Q]);let[eu,ef]=(0,i.useState)(0),[eb,ep]=(0,i.useState)(0),[eg,ej]=(0,i.useState)(0),[ev,ew]=(0,i.useState)(!1),[eN,ey]=(0,i.useState)(!1),[ek,eS]=(0,i.useState)(!1),[eA,eC]=(0,i.useState)(null),[eM,eD]=(0,i.useState)("/logo.png"),[eE,eT]=(0,i.useState)(null),[ez,eR]=(0,i.useState)(!1),[eF,eP]=(0,i.useState)(0),[eB,eI]=(0,i.useState)([]),[eL,e_]=(0,i.useState)(!0),[eO,eV]=(0,i.useState)(!1),[eZ,eG]=(0,i.useState)(!1),[eq,eJ]=(0,i.useState)(0),[eU,eX]=(0,i.useState)(!1),[eY,eH]=(0,i.useState)(0),[e$,eW]=(0,i.useState)(!1),eQ=(0,i.useCallback)(()=>{ew(!1),ey(!1),ei([]),eR(!1),ex(!1),eh.current=!1,ep(0),ej(0);let e=(0,g.$X)(ea);ec(e),w(e),ef(0),eT(ea%50==0?function(e){let t=q(e);return{...t,name:"".concat(t.name," (Boss)"),primary:t.secondary,accent:t.primary,background:t.background.replace("via-","via-red-").replace("to-","to-red-"),cardBackground:"bg-red-500/20",text:"text-red-100"}}(ea):q(ea)),eD((0,Z.VG)()),(0,Z.fY)();let t=e.mechanics&&e.mechanics.includes("trio"),a=(0,Z.jE)(e.pairs,t),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,s=(t-1)/2,i=(a-1)/2;return Array.from({length:t*a},(e,a)=>{let r=Math.floor(a/t),l=a%t;return{i:a,d:Math.hypot(l-s,r-i),r,c:l}}).sort((e,t)=>e.d-t.d||e.r-t.r||e.c-t.c).slice(0,e).map(e=>e.i).sort((e,t)=>e-t)}(a.length),i=a.map((t,a)=>{let i={id:t.id,value:t.fileName,image:t.image,isFlipped:!1,isMatched:!1,isVisible:!0,mechanic:void 0,slot:s[a]},r=e.mechanics.filter(e=>"basic"!==e&&"bomb"!==e&&"trio"!==e);if(r.length>0)for(let e of r){if("darkness"===e)return(0,j.Zu)(i,e);let t=j.bM[e];if(t&&Math.random()<t.probability)return(0,j.Zu)(i,e)}return i});if(e.mechanics.includes("bomb")){let e=i.length,t=Math.floor(.2*e),a=Array.from({length:e},(e,t)=>t).sort(()=>Math.random()-.5).slice(0,t);i=i.map((e,t)=>a.includes(t)?(0,j.Zu)(e,"bomb"):e)}u(i),e.mechanics.filter(e=>"basic"!==e).length>0&&!e$&&(eW(!0),setTimeout(()=>{eW(!1)},3e3))},[ea]);(0,i.useEffect)(()=>{eQ()},[eQ]),(0,i.useEffect)(()=>{let e=[...new Set([...es,...x.filter(e=>"peeked_card"===e.mechanic&&e.isFlipped&&!e.isMatched).map(e=>e.id)])].filter(e=>{let t=x.find(t=>t.id===e);return t&&(t.isFlipped||t.isMatched)});JSON.stringify(e.sort())!==JSON.stringify(es.sort())&&ei(e)},[x,es]),(0,i.useEffect)(()=>{if(!eU)return;let e=setTimeout(()=>eX(!1),300);return()=>clearTimeout(e)},[eU]),(0,i.useEffect)(()=>{0!==T||ek||ed||eo(!0)},[T,ek,ed]),(0,i.useEffect)(()=>(A.Z.initialize().then(()=>{A.Z.playBackgroundMusic()}),()=>{A.Z.stopBackgroundMusic()}),[]);let eK=(0,i.useCallback)(()=>{let e=!eL;e_(e),A.Z.setEnabled(e),e&&A.Z.play("cartavolteada")},[eL]);(0,i.useEffect)(()=>{if(!F&&ez&&!ev&&!eN&&en.timeSec>0){let e=setInterval(()=>{ef(e=>{let t=e+1;return!(t>=en.timeSec)||eN||eh.current||(eh.current=!0,ex(!0),ti()),t})},1e3);return()=>clearInterval(e)}},[F,ez,ev,eN,en.timeSec]),(0,i.useEffect)(()=>{if(!ez||F||ev||eN)return;let e=setInterval(()=>{ep(e=>e+1)},1e3);return()=>{clearInterval(e)}},[ez,F,ev,eN]);let[e0,e1]=(0,i.useState)("normal"),[e3,e6]=(0,i.useState)(!1),[e2,e5]=(0,i.useState)({}),e4=(0,i.useRef)((0,j.ny)(Date.now(),{intervalMs:6e3,durationMs:3e3})),[,e8]=(0,i.useState)({}),e7=(0,i.useCallback)(e=>e4.current.frozenIds.includes(e.toString()),[]),e9=(0,i.useCallback)(()=>{let e=Math.floor(eq/6e4),t=Math.floor(eq%6e4/1e3);return"".concat(e,":").concat(t.toString().padStart(2,"0"))},[eq]);(0,i.useEffect)(()=>{if(T<3){let e=()=>{eJ(et())};e();let t=setInterval(e,1e3);return()=>clearInterval(t)}},[T,et]);let te=(0,i.useCallback)(async()=>{try{let t=await X.showLifeAd();if(t.success&&t.reward){H();var e=t.reward;let a="life"===e.type?"+".concat(e.amount," Vida"):"+".concat(e.amount," monedas"),s=document.createElement("div");s.className="fixed top-4 right-4 bg-slate-700/90 text-white px-4 py-2 rounded-lg shadow-lg z-50 border border-white/20 backdrop-blur-sm",s.textContent=a,document.body.appendChild(s),setTimeout(()=>{s.remove()},2e3),eo(!1),eR(!1),ef(0),ep(0),ej(0),ei([]),el(!1),ex(!1),eh.current=!1,eQ(),$({type:"LIFE_REGENERATED",data:{source:"ad",reward:t.reward},timestamp:Date.now()})}else alert(t.error||"No se pudo completar el video")}catch(e){alert("Error al cargar el video")}},[H,$,eQ]),tt=(0,i.useCallback)(()=>{eo(!1)},[]);(0,i.useMemo)(()=>new Set(e4.current.frozenIds),[e8]),(0,i.useEffect)(()=>{var e;if(!(null==en||null==(e=en.mechanics)?void 0:e.includes("rotation"))||!x||0===x.length)return;let t=setInterval(()=>{let e={};o.T.getState().currentCards.forEach(t=>{t.isMatched||(e[t.id]=90*Math.floor(4*Math.random()))}),e5(e)},2e3);return()=>{clearInterval(t)}},[null==en||null==(t=en.mechanics)?void 0:t.join(","),x.length]),(0,i.useEffect)(()=>{var e;let t;if(!x||0===x.length||!en||!(null==(e=en.mechanics)?void 0:e.some(e=>["ghost","bomb","chameleon","peeked_card","darkness"].includes(e))))return;let a=performance.now(),s=()=>{let e=performance.now(),i=(e-a)/1e3;if(a=e,Array.isArray(x)&&x.length>0){let e=(0,j.xP)(x,i),t=e.filter(e=>"chameleon"===e.mechanic);if(t.length>0){let e=t[0].mechanicData.currentColor;e!==e0&&e1(e)}else"normal"!==e0&&e1("normal");let a=e.filter(e=>"bomb"===e.mechanic&&e.mechanicData&&e.mechanicData.shouldRemove);if(a.length>0){let t=e.map(e=>"bomb"===e.mechanic&&e.mechanicData&&e.mechanicData.shouldRemove?{...e,mechanic:void 0,mechanicData:void 0}:e),s=t.filter(e=>!e.isMatched&&!e.mechanic);if(s.length>0){let e=Math.min(a.length,s.length),i=Array.from({length:s.length},(e,t)=>t).sort(()=>Math.random()-.5).slice(0,e);t=t.map((e,t)=>{let a=s.findIndex(t=>t.id===e.id);return -1!==a&&i.includes(a)?(0,j.Zu)(e,"bomb"):e})}u(t)}else JSON.stringify(e)!==JSON.stringify(x)&&u(e)}t=requestAnimationFrame(s)};return t=requestAnimationFrame(s),()=>{t&&cancelAnimationFrame(t)}},[ea,en,x,e0]),(0,i.useEffect)(()=>{var e;let t;if(!(null==en||null==(e=en.mechanics)?void 0:e.includes("frozen"))||!x||0===x.length)return;let a=()=>{let e=Date.now(),s=(0,j.QV)(e,x,e4.current),i=e4.current;(s.frozenIds.length!==i.frozenIds.length||s.phase!==i.phase||s.frozenIds.some((e,t)=>e!==i.frozenIds[t]))&&(e4.current=s,e8({})),t=requestAnimationFrame(a)};return t=requestAnimationFrame(a),()=>{t&&cancelAnimationFrame(t)}},[null==en?void 0:en.mechanics,x]),(0,i.useEffect)(()=>{if(!en.mechanics||!en.mechanics.includes("rotation"))return;let e=setInterval(()=>{ta()},2e3);return()=>clearInterval(e)},[en.mechanics,x]);let ta=(0,i.useCallback)(()=>{u(o.T.getState().currentCards.map(e=>"rotation"!==e.mechanic||e.isMatched?e:{...e,mechanicData:{...e.mechanicData,rotationAngle:90*Math.floor(4*Math.random())}}))},[]),ts=()=>{let e=o.T.getState(),t=e.currentCards.filter(e=>e.isMatched),a=en.mechanics&&en.mechanics.includes("trio"),s=!1;if(a)s=Math.floor(t.length/3)===en.pairs;else{let a=e.currentCards.length/2;s=t.length/2===a}if(s&&e.currentCards.length>0&&!ev&&t.length>0){let e=en.rewards.coins||10*en.pairs;P(e),$({type:"LEVEL_COMPLETE",data:{level:ea,coinsEarned:e},timestamp:Date.now()}),A.Z.play("acierto"),ew(!0)}},ti=()=>{eN||ev||er||(eh.current=!0,ex(!0),el(!0),Y(),A.Z.play("fallo"),$({type:"LEVEL_FAIL",data:{level:ea,reason:"time_up"},timestamp:Date.now()}),ey(!0))},tr=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))},tl=(0,i.useCallback)(()=>{z(!F)},[F,z]),tn=(0,i.useMemo)(()=>{if(!ez)return 0;let e=en.pairs,t=Math.floor(+eg),a=Math.max(0,(2*e-eg)*10);return Math.max(0,50*e-Math.floor(2*eb)-t+a)},[ez,eb,eg,en]),tc=(e,t,a)=>{let s=[];for(let i=0;i<a;i++)s.push({id:Date.now()+i,x:e,y:t,targetX:window.innerWidth-100,targetY:100});eI(e=>[...e,...s]),setTimeout(()=>{eI(e=>e.filter(e=>!s.some(t=>t.id===e.id)))},1e3)},[td,to]=(0,i.useState)([]);return(0,i.useEffect)(()=>{to(Array.from({length:15},(e,t)=>({id:t,left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")})))},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{id:"746f130136238d56",children:".card.jsx-746f130136238d56{position:relative;width:100%;aspect-ratio:1;border-radius:14px;transform-style:preserve-3d;perspective:1e3px;transition:transform.6s ease}.card-inner.jsx-746f130136238d56{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform.6s ease}.card.flipped.jsx-746f130136238d56 .card-inner.jsx-746f130136238d56{transform:rotatey(180deg)}.card-front.jsx-746f130136238d56,.card-back.jsx-746f130136238d56{position:absolute;width:100%;height:100%;backface-visibility:hidden;top:0;left:0;border-radius:14px;display:grid;place-items:center}.card-back.jsx-746f130136238d56{background:linear-gradient(135deg,rgba(99,102,241,.3),rgba(217,70,239,.3),rgba(14,165,233,.3));border:1px solid rgba(255,255,255,.2);font-size:28px}.card-front.jsx-746f130136238d56{background:transparent;color:#0f172a;font-size:48px;transform:rotatey(180deg);border:1px solid rgba(255,255,255,.2)}.card.matched.jsx-746f130136238d56{background:rgba(16,185,129,.2);box-shadow:0 0 20px rgba(16,185,129,.4)}.card.jsx-746f130136238d56:not(:disabled):hover{transform:scale(1.02)}.card.jsx-746f130136238d56:not(:disabled):active{transform:scale(.98)}.flying-coin.jsx-746f130136238d56{position:fixed;z-index:1000;pointer-events:none;animation:flyToTarget 1s ease-out forwards}@keyframes flyToTarget{0%{transform:translate(0,0)scale(1);opacity:1}100%{transform:translate(var(--target-x),var(--target-y))scale(.5);opacity:0}}@keyframes shake{0%{transform:translatex(0)rotate(0deg)}25%{transform:translatex(-2px)rotate(-1deg)}50%{transform:translatex(2px)rotate(1deg)}75%{transform:translatex(-1px)rotate(-.5deg)}100%{transform:translatex(1px)rotate(.5deg)}}"}),(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #312e81, #581c87, #0f172a)",color:"#e5e7eb",fontFamily:"system-ui, sans-serif",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"0.5rem"},className:"jsx-746f130136238d56 min-h-screen relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 w-full p-4",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 max-w-4xl mx-auto w-full",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex justify-between items-start mb-3 -mt-3",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 w-16"}),(0,s.jsx)("img",{src:"/logo.png",alt:"MemoFlip",className:"jsx-746f130136238d56 w-32 h-32 object-contain"}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>eG(!0),title:"Ranking",className:"jsx-746f130136238d56 p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(R.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("button",{onClick:eK,title:eL?"Desactivar sonidos":"Activar sonidos",className:"jsx-746f130136238d56 p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition",children:eL?(0,s.jsx)(M.A,{className:"w-5 h-5 text-white"}):(0,s.jsx)(D.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("button",{onClick:()=>eV(!0),title:"Ajustes",className:"jsx-746f130136238d56 p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(C.A,{className:"w-5 h-5 text-white"})})]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex justify-between items-center mb-4 pb-4 border-b border-white/20 -mt-8",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 border border-white/20 h-10",children:[(0,s.jsx)(I.A,{className:"w-5 h-5 text-white"}),(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-base font-semibold",children:T}),T<3&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 ml-2 text-[10px] text-gray-300",children:(0,s.jsx)("span",{className:"jsx-746f130136238d56",children:e9()})})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 border border-white/20 h-10",children:[(0,s.jsx)(L.A,{className:"w-5 h-5 text-white"}),(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-base font-semibold",children:y})]})]}),(0,s.jsxs)("header",{className:"jsx-746f130136238d56 flex justify-between items-center mb-4",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 h-8 flex items-center",children:(0,s.jsxs)("h2",{className:"jsx-746f130136238d56 text-lg font-bold m-0",children:["Nivel ",ea]})}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-1 px-2 py-1 rounded-full bg-white/10 border border-white/20 h-8",children:[(0,s.jsx)(_.A,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-sm font-semibold",children:tr(eb)})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-1 px-2 py-1 rounded-full bg-white/10 border border-white/20 h-8",children:[(0,s.jsx)(O.A,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-sm font-semibold",children:eg})]})]}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 h-8 flex items-center",children:(0,s.jsx)("button",{onClick:tl,title:F?"Continuar":"Pausa",className:"jsx-746f130136238d56 p-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 transition h-8 w-8 flex items-center justify-center",children:F?(0,s.jsx)(c.A,{className:"w-4 h-4 text-white"}):(0,s.jsx)(V.A,{className:"w-4 h-4 text-white"})})})]}),en.timeSec>0&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 mb-4 flex justify-center",children:(0,s.jsx)("div",{style:{width:"400px",height:"8px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)"},className:"jsx-746f130136238d56 rounded-full overflow-hidden",children:(0,s.jsx)("div",{style:{width:"".concat(Math.max(0,(en.timeSec-eu)/en.timeSec*100),"%"),background:"linear-gradient(90deg, \n                      ".concat(eu>=.7*en.timeSec?"#ef4444":eu>=.4*en.timeSec?"#f59e0b":"#fbbf24",", \n                      ").concat(eu>=.7*en.timeSec?"#dc2626":eu>=.4*en.timeSec?"#d97706":"#f59e0b",")")},className:"jsx-746f130136238d56 h-full transition-all duration-1000 ease-linear"})})}),(0,s.jsx)("section",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.10)",borderRadius:"20px",padding:"16px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)"},className:"jsx-746f130136238d56 rounded-2xl p-4",children:(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},className:"jsx-746f130136238d56 "+"grid gap-3 transition-all duration-500 ".concat("green"===e0?"filter hue-rotate-90 saturate-150":"red"===e0?"filter hue-rotate-180 saturate-150":"blue"===e0?"filter hue-rotate-240 saturate-150":"yellow"===e0?"filter hue-rotate-60 saturate-150":""),children:Array.from({length:24},(e,t)=>{let a=x.find(e=>e.slot===t);if(!a)return(0,s.jsx)("div",{style:{width:"100%",aspectRatio:"1/1",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"14px",background:"rgba(255,255,255,0.05)"},className:"jsx-746f130136238d56 rounded-2xl"},"empty-".concat(t));{var i;let e=(0,j.Pp)(a),t=e7(a.id)?"opacity-80 cursor-not-allowed ring-4 ring-blue-400 bg-blue-200 animate-pulse shadow-lg shadow-blue-400 border-2 border-blue-300":"",r="bomb"===a.mechanic&&a.mechanicData&&!!a.mechanicData.isExploded;return(0,s.jsxs)("button",{"data-card-id":a.id,onClick:()=>(e=>{var t;if(F)return;let a=Date.now();if(a-eY<300)return;eH(a);let s=en.mechanics&&en.mechanics.includes("trio")?3:2,i=en.mechanics&&en.mechanics.includes("trio");if(Math.max(es.filter(e=>{let t=x.find(t=>t.id===e);return t&&"peeked_card"!==t.mechanic}).length,x.filter(e=>e.isFlipped&&!e.isMatched&&"peeked_card"!==e.mechanic).length)>=s||er||eU)return;ez||eR(!0),ej(e=>e+1);let r=x.find(t=>t.id===e);if(!r||r.isMatched)return;let l="peeked_card"===r.mechanic&&!!(null==(t=r.mechanicData)?void 0:t.peeked);if(r.isFlipped&&!l)return;eX(!0);let n=()=>{setTimeout(()=>{eX(!1)},150)};if(!(0,j.SW)(r)||e7(e)){$({type:"CARD_MISS",data:{cardId:e,reason:"mechanic_blocked"},timestamp:Date.now()}),n();return}if("bomb"===r.mechanic&&r.mechanicData){let e=r.mechanicData.bombLevel;e<2?u(x.map(t=>{if("bomb"===t.mechanic&&t.mechanicData){let a=t.mechanicData;return{...t,mechanicData:{...a,bombLevel:e+1}}}return t})):u(x.map(e=>{if("bomb"===e.mechanic&&e.mechanicData){let t=e.mechanicData;return{...e,mechanicData:{...t,bombLevel:3,isExploded:!0,explosionTimer:0}}}return e}))}f(e);let c=[...es,e];ei(c),A.Z.play("cartavolteada"),$({type:"CARD_FLIP",data:{cardId:e,mechanic:r.mechanic},timestamp:Date.now()}),c.length===(i?3:2)&&(el(!0),setTimeout(()=>{i?((e,t,a)=>{let s=x.find(t=>t.id===e),i=x.find(e=>e.id===t),r=x.find(e=>e.id===a);if(s&&i&&r&&s.value===i.value&&i.value===r.value){let s=o.T.getState();if(Array.isArray(s.currentCards)){let i=s.currentCards.map(s=>s.id===e||s.id===t||s.id===a?{...s,isMatched:!0,isFlipped:!0}:s);o.T.setState({currentCards:i,matches:s.matches+1}),o.T.getState().addEvent({type:"TRIO_MATCH",data:{cardId1:e,cardId2:t,cardId3:a},timestamp:Date.now()})}P(15),A.Z.play("matchexitoso"),A.Z.play("coin");let i=document.querySelector('[data-card-id="'.concat(e,'"]'));if(i){let e=i.getBoundingClientRect();tc(e.left+e.width/2,e.top+e.height/2,5)}setTimeout(()=>{let e=Math.floor(o.T.getState().currentCards.filter(e=>e.isMatched).length/3);e===en.pairs&&ts()},100)}else setTimeout(()=>{b(e),b(t),b(a)},1e3)})(c[0],c[1],c[2]):((e,t)=>{let a=x.find(t=>t.id===e),s=x.find(e=>e.id===t);if(a&&s&&a.value===s.value){p(e,t),P(10),A.Z.play("matchexitoso"),A.Z.play("coin");let a=document.querySelector('[data-card-id="'.concat(e,'"]'));if(a){let e=a.getBoundingClientRect();tc(e.left+e.width/2,e.top+e.height/2,3)}$({type:"CARD_MATCH",data:{cardId1:e,cardId2:t},timestamp:Date.now()}),setTimeout(()=>{let e=o.T.getState().currentCards.filter(e=>e.isMatched),t=en.mechanics&&en.mechanics.includes("trio"),a=!1;(a=t?Math.floor(e.length/3)===en.pairs:Math.floor(e.length/2)===en.pairs)&&!ev&&(eP(tn),ew(!0),A.Z.play("acierto"))},500)}else setTimeout(()=>{b(e),b(t)},300),$({type:"CARD_MISS",data:{cardId1:e,cardId2:t},timestamp:Date.now()})})(c[0],c[1]),ei([]),el(!1)},300)),n()})(a.id),disabled:(()=>{var e;let t=Math.max(es.filter(e=>{let t=x.find(t=>t.id===e);return t&&"peeked_card"!==t.mechanic}).length,x.filter(e=>e.isFlipped&&!e.isMatched&&"peeked_card"!==e.mechanic).length),s=en.mechanics&&en.mechanics.includes("trio")?3:2,i="peeked_card"===a.mechanic&&!!(null==(e=a.mechanicData)?void 0:e.peeked);return a.isMatched||F||t>=s&&!a.isFlipped||eU&&!i||r||e7(a.id)})(),style:{border:"none",background:"transparent",cursor:(()=>{var e;let t=Math.max(es.filter(e=>{let t=x.find(t=>t.id===e);return t&&"peeked_card"!==t.mechanic}).length,x.filter(e=>e.isFlipped&&!e.isMatched&&"peeked_card"!==e.mechanic).length),s=en.mechanics&&en.mechanics.includes("trio")?3:2,i="peeked_card"===a.mechanic&&!!(null==(e=a.mechanicData)?void 0:e.peeked);return a.isMatched||F||t>=s&&!a.isFlipped||eU&&!i||r||e7(a.id)?"not-allowed":"pointer"})(),transform:(null==(i=en.mechanics)?void 0:i.includes("rotation"))&&void 0!==e2[a.id]?"rotate(".concat(e2[a.id],"deg)"):(0,j.xB)(a)},className:"jsx-746f130136238d56 "+"\n                        card ".concat(a.isFlipped?"flipped":""," ").concat(a.isMatched?"matched":"","\n                        ").concat(e," ").concat(t,"\n                        ").concat(r?"opacity-0 scale-0 transition-all duration-300":"","\n                      "),children:["ghost"===a.mechanic&&!a.isMatched&&!a.isVisible&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-6xl opacity-90 animate-pulse",children:"\uD83D\uDC7B"})}),(0,s.jsxs)("div",{style:{opacity:"peeked_card"!==a.mechanic||a.isVisible?1:0,transition:"opacity 0.3s ease-in-out"},className:"jsx-746f130136238d56 card-inner",children:[e7(a.id)&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 absolute inset-0 flex items-center justify-center z-30 pointer-events-none",children:(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-4xl opacity-90 animate-pulse",children:"❄️"})}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 card-back",children:(0,s.jsx)("img",{src:eM,alt:"MemoFlip",style:{width:"64px",height:"64px",objectFit:"contain",display:"block",userSelect:"none"},className:"jsx-746f130136238d56"})}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 card-front",children:(0,s.jsx)("img",{src:a.image,alt:"Carta ".concat(a.value),style:{width:"64px",height:"64px",objectFit:"contain",display:"block",userSelect:"none"},className:"jsx-746f130136238d56"})})]}),a.isMatched&&(0,s.jsx)("div",{style:{boxShadow:"0 0 30px 8px rgba(16,185,129,0.35)",outline:"4px solid rgba(16,185,129,0.60)"},className:"jsx-746f130136238d56 absolute inset-0 rounded-2xl"})]},a.id)}})})}),en.mechanics&&en.mechanics.length>0&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 mt-3 flex justify-center",children:(0,s.jsx)("div",{className:"jsx-746f130136238d56 px-3 py-2 rounded-lg bg-white/5 border border-white/10 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-lg",children:en.mechanics.includes("basic")?"\uD83C\uDFB4":en.mechanics.includes("bomb")?"\uD83D\uDCA3":en.mechanics.includes("frozen")?"❄️":en.mechanics.includes("rotation")?"\uD83D\uDD04":en.mechanics.includes("fog")?"\uD83C\uDF2B️":en.mechanics.includes("ghost")?"\uD83D\uDC7B":en.mechanics.includes("peeked_card")?"\uD83D\uDC41️":en.mechanics.includes("chameleon")?"\uD83E\uDD8E":en.mechanics.includes("trio")?"\uD83D\uDD3A":en.mechanics.includes("combo")?"⚡":en.mechanics.includes("darkness")?"\uD83C\uDF11":"\uD83C\uDFAF"}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56",children:[(0,s.jsx)("h3",{className:"jsx-746f130136238d56 text-white font-semibold text-xs",children:en.mechanics.includes("basic")?"Mec\xe1nica B\xe1sica":en.mechanics.includes("bomb")?"Bomba":en.mechanics.includes("frozen")?"Congelaci\xf3n":en.mechanics.includes("rotation")?"Rotaci\xf3n":en.mechanics.includes("fog")?"Niebla":en.mechanics.includes("ghost")?"Fantasma":en.mechanics.includes("peeked_card")?"Vista Previa":en.mechanics.includes("chameleon")?"Camale\xf3n":en.mechanics.includes("trio")?"Tr\xedo":en.mechanics.includes("combo")?"Combo":en.mechanics.includes("darkness")?"Oscuridad":"Mec\xe1nica Especial"}),(0,s.jsx)("p",{className:"jsx-746f130136238d56 text-gray-300 text-xs leading-tight",children:en.mechanics.includes("basic")?"Encuentra las parejas iguales":en.mechanics.includes("bomb")?"\xa1Cuidado con las bombas!":en.mechanics.includes("frozen")?"Algunas cartas se congelan temporalmente":en.mechanics.includes("rotation")?"El tablero rota autom\xe1ticamente":en.mechanics.includes("fog")?"Las cartas se ven borrosas":en.mechanics.includes("ghost")?"Las cartas aparecen y desaparecen":en.mechanics.includes("peeked_card")?"Una carta se muestra al inicio":en.mechanics.includes("chameleon")?"Todo el grid cambia de color":en.mechanics.includes("trio")?"Necesitas grupos de 3 cartas":en.mechanics.includes("combo")?"Bonificaciones por aciertos consecutivos":en.mechanics.includes("darkness")?"La pantalla se oscurece peri\xf3dicamente":"Mec\xe1nica especial del nivel"})]}),(0,s.jsx)("button",{onClick:()=>e6(!0),title:"Ayuda",className:"jsx-746f130136238d56 ml-2 p-1 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-white text-xs",children:"?"})})]})})})]})}),(0,s.jsxs)(N.N,{children:[ev&&(0,s.jsxs)("div",{className:"jsx-746f130136238d56 fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{onClick:()=>ew(!1),className:"jsx-746f130136238d56 absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 bg-gradient-to-br from-slate-800 via-purple-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-between p-4 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 p-1.5 rounded-lg bg-white/10 border border-white/20",children:(0,s.jsx)(R.A,{className:"w-5 h-5 text-yellow-400"})}),(0,s.jsx)("h2",{className:"jsx-746f130136238d56 text-xl font-bold text-white",children:"\xa1Nivel Superado!"})]}),(0,s.jsx)("button",{onClick:()=>ew(!1),className:"jsx-746f130136238d56 p-1.5 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-4 h-4 text-white"})})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 p-6 text-center",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 flex justify-center mb-4",children:(0,s.jsx)(k(),{animationData:S,loop:!1,autoplay:!0,style:{width:"150px",height:"150px"}})}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 space-y-3 mb-6",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)(_.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56",children:["Tiempo: ",(0,s.jsx)("span",{className:"jsx-746f130136238d56 font-semibold text-white",children:tr(eb)})]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)(O.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56",children:["Giros: ",(0,s.jsx)("span",{className:"jsx-746f130136238d56 font-semibold text-white",children:eg})]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-lg",children:[(0,s.jsx)(L.A,{className:"w-5 h-5 text-yellow-400"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56 font-bold text-yellow-400",children:["+ ",eF," monedas"]})]})]}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 flex justify-center",children:(0,s.jsx)("button",{onClick:()=>{P(eF),ew(!1),d()},className:"jsx-746f130136238d56 px-6 py-3 rounded-xl bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold hover:from-yellow-500 hover:to-yellow-600 transition",children:"Siguiente Nivel"})})]})]})})]}),eN&&(0,s.jsxs)("div",{className:"jsx-746f130136238d56 fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{onClick:()=>ey(!1),className:"jsx-746f130136238d56 absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 bg-gradient-to-br from-slate-800 via-red-900 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-between p-3 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 p-1 rounded-lg bg-white/10 border border-white/20",children:(0,s.jsx)(I.A,{className:"w-4 h-4 text-red-400"})}),(0,s.jsx)("h2",{className:"jsx-746f130136238d56 text-lg font-bold text-white",children:"\xa1Tiempo Agotado!"})]}),(0,s.jsx)("button",{onClick:()=>ey(!1),className:"jsx-746f130136238d56 p-1 rounded-lg bg-white/10 border border-white/20 hover:bg-white/20 transition",children:(0,s.jsx)(h.A,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 p-4 text-center",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 flex justify-center mb-3",children:(0,s.jsx)("div",{style:{fontSize:"80px",animation:"shake 0.5s ease-in-out infinite alternate",filter:"drop-shadow(0 0 10px rgba(239, 68, 68, 0.5))"},className:"jsx-746f130136238d56 text-red-500",children:"\uD83D\uDC94"})}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 space-y-2 mb-4",children:[(0,s.jsxs)("p",{className:"jsx-746f130136238d56 text-gray-300 text-sm",children:["Se acab\xf3 el tiempo para el nivel ",(0,s.jsx)("span",{className:"jsx-746f130136238d56 font-semibold text-white",children:ea})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-sm",children:[(0,s.jsx)(_.A,{className:"w-4 h-4 text-blue-400"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56 text-blue-400",children:["Tiempo l\xedmite: ",tr(en.timeSec)]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-sm",children:[(0,s.jsx)(L.A,{className:"w-4 h-4 text-yellow-400"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56 text-yellow-400",children:["Monedas ganadas: ",eF]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-center gap-2 text-base",children:[(0,s.jsx)(I.A,{className:"w-4 h-4 text-red-400"}),(0,s.jsxs)("span",{className:"jsx-746f130136238d56 font-bold text-red-400",children:["Vidas restantes: ",T]})]})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{ey(!1),window.location.href="/"},className:"jsx-746f130136238d56 flex-1 px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white hover:bg-white/20 transition text-sm",children:"Salir"}),(0,s.jsx)("button",{onClick:()=>{ey(!1),eR(!1),ef(0),ep(0),ej(0),ei([]),el(!1),ex(!1),eh.current=!1,eQ()},className:"jsx-746f130136238d56 flex-1 px-3 py-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 text-white font-bold hover:from-red-600 hover:to-red-700 transition text-sm",children:"Reintentar"})]})]})]})})]})]}),eB.map(e=>(0,s.jsx)("div",{style:{left:e.x,top:e.y,"--target-x":"".concat(e.targetX-e.x,"px"),"--target-y":"".concat(e.targetY-e.y,"px")},className:"jsx-746f130136238d56 flying-coin",children:(0,s.jsx)(L.A,{className:"w-6 h-6 text-yellow-400"})},e.id)),(0,s.jsx)(E,{isOpen:eO,onClose:()=>eV(!1)}),(0,s.jsx)(B,{isOpen:eZ,onClose:()=>eG(!1)}),(0,s.jsx)(N.N,{children:e$&&en&&(0,s.jsx)(n.P.div,{initial:{opacity:0,scale:.8,y:-50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-50},transition:{duration:.5,ease:"easeOut"},className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:(0,s.jsx)("div",{className:"jsx-746f130136238d56 bg-gradient-to-br from-white/20 via-white/15 to-white/10 backdrop-blur-sm rounded-2xl border border-white/30 shadow-2xl p-6 max-w-sm mx-4",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 text-center",children:[(0,s.jsx)("h3",{className:"jsx-746f130136238d56 text-xl font-bold text-white mb-4",children:"\xa1Desaf\xedo Especial!"}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 space-y-3",children:en.mechanics.filter(e=>"basic"!==e).map((e,t)=>(0,s.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2*t,duration:.3},className:"flex items-center justify-center gap-3 bg-purple-600/50 rounded-lg p-3",children:[(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-2xl",children:(0,j.mA)(e)}),(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-white font-medium capitalize",children:"fog"===e?"Niebla":"ghost"===e?"Fantasma":"bomb"===e?"Bomba":"chameleon"===e?"Camale\xf3n":"darkness"===e?"Oscuridad":"rotation"===e?"Rotaci\xf3n":"frozen"===e?"Congelado":"peeked_card"===e?"Vista Previa":"trio"===e?"Tr\xedo":e})]},e))}),(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 text-sm text-gray-300",children:"\xa1Demuestra tu habilidad!"})]})})})}),e3&&(0,s.jsx)("div",{className:"jsx-746f130136238d56 fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 max-w-md mx-4 max-h-[80vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"jsx-746f130136238d56 text-white text-xl font-bold",children:"Mec\xe1nicas del Juego"}),(0,s.jsx)("button",{onClick:()=>e6(!1),className:"jsx-746f130136238d56 text-gray-400 hover:text-white transition-colors",children:(0,s.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 space-y-4",children:en.mechanics.map(e=>{let t=(e=>{switch(e){case"basic":return{icon:"\uD83C\uDFAF",name:"B\xe1sica",description:"Mec\xe1nica est\xe1ndar sin efectos especiales. Simplemente encuentra las parejas iguales."};case"ghost":return{icon:"\uD83D\uDC7B",name:"Fantasma",description:"Las cartas aparecen y desaparecen. Cuando est\xe1n ocultas, se muestra un fantasma en su lugar."};case"fog":return{icon:"\uD83D\uDCA8",name:"Niebla",description:"Las cartas se ven borrosas y semi-transparentes, dificultando su identificaci\xf3n."};case"chameleon":return{icon:"\uD83E\uDD8E",name:"Camale\xf3n",description:"Todo el grid cambia de color peri\xf3dicamente (verde, rojo, azul, amarillo) para confundir."};case"bomb":return{icon:"\uD83D\uDCA3",name:"Bomba",description:"20% de cartas tienen bombas. Al tocar una, todas pasan de amarillo → naranja → rojo → explotan."};case"trio":return{icon:"\uD83D\uDD3A",name:"Tr\xedo",description:"En lugar de parejas, necesitas hacer grupos de 3 cartas id\xe9nticas."};case"rotation":return{icon:"\uD83D\uDD04",name:"Rotaci\xf3n",description:"El tablero rota peri\xf3dicamente, cambiando la orientaci\xf3n de las cartas."};case"peeked_card":return{icon:"\uD83D\uDC41️",name:"Vista Previa",description:"Una carta se muestra brevemente al inicio para darte una pista."};case"combo":return{icon:"⚡",name:"Combo",description:"Bonificaciones por hacer secuencias de aciertos consecutivos."};case"frozen":return{icon:"\uD83E\uDDCA",name:"Congelaci\xf3n",description:"Algunas cartas se congelan temporalmente y no se pueden voltear. Las cartas emparejadas nunca se congelan."};case"darkness":return{icon:"\uD83C\uDF11",name:"Oscuridad",description:"Toda la pantalla se oscurece peri\xf3dicamente, dificultando la visi\xf3n."};default:return{icon:"\uD83C\uDFAF",name:"Especial",description:"Mec\xe1nica especial del nivel."}}})(e);return(0,s.jsxs)("div",{className:"jsx-746f130136238d56 bg-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-2xl",children:t.icon}),(0,s.jsx)("h3",{className:"jsx-746f130136238d56 text-white font-semibold",children:t.name})]}),(0,s.jsx)("p",{className:"jsx-746f130136238d56 text-gray-300 text-sm",children:t.description})]},e)})})]})}),(0,s.jsx)(N.N,{children:ek&&(0,s.jsxs)("div",{className:"jsx-746f130136238d56 fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{onClick:()=>eS(!1),className:"jsx-746f130136238d56 absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,s.jsx)(n.P.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,ease:"easeOut"},className:"relative bg-gradient-to-br from-red-900/90 to-red-800/90 backdrop-blur-xl rounded-2xl p-8 mx-4 max-w-md w-full border border-red-500/30 shadow-2xl",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 text-center",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 mb-6",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 w-20 h-20 mx-auto bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("span",{className:"jsx-746f130136238d56 text-6xl",children:"\uD83D\uDC80"})}),(0,s.jsx)("h2",{className:"jsx-746f130136238d56 text-3xl font-bold text-white mb-2",children:"\xa1GAME OVER!"}),(0,s.jsx)("p",{className:"jsx-746f130136238d56 text-red-200",children:"Se han agotado todas las vidas"})]}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 bg-black/20 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"jsx-746f130136238d56 grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"jsx-746f130136238d56 text-center",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-white font-semibold",children:"Nivel alcanzado"}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-yellow-400 text-xl font-bold",children:ea})]}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 text-center",children:[(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-white font-semibold",children:"Monedas ganadas"}),(0,s.jsx)("div",{className:"jsx-746f130136238d56 text-yellow-400 text-xl font-bold",children:y})]})]})}),(0,s.jsxs)("div",{className:"jsx-746f130136238d56 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{eS(!1),W(),Q(1)},className:"jsx-746f130136238d56 flex-1 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-black font-bold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\uD83C\uDFAE Jugar de nuevo"}),(0,s.jsx)("button",{onClick:()=>{eS(!1),r()},className:"jsx-746f130136238d56 flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg",children:"\uD83C\uDFE0 Men\xfa"})]})]})})]})}),(0,s.jsx)(J,{isOpen:ed,onClose:tt,onWatchAd:te})]})]})}function H(){let[e,t]=(0,i.useState)("intro"),[a,r]=(0,i.useState)(1),{setCurrentLevel:l,addCoins:n,gainLife:c,saveProgress:d,loadProgress:m,getProgress:x}=(0,o.T)();(0,i.useEffect)(()=>{m();let e=x();r(e.level),console.log("\uD83D\uDCCA Progreso cargado:",e)},[m,x]);let h=()=>{let{getProgress:e}=o.T.getState(),a=e().level;l(a),r(a),t("game")},u=()=>{t("intro")},f=e=>{l(e),r(e),t("game")},b=()=>{let e=a+1;e<=1e3?(l(e),r(e)):t("intro"),d()},g=()=>{t("intro")};return(0,s.jsx)("main",{className:"min-h-screen",children:(()=>{switch(e){case"intro":return(0,s.jsx)(p,{onStartGame:h});case"levels":return(0,s.jsx)(v,{onBack:u,onLevelSelect:f});case"game":return(0,s.jsx)(Y,{level:a,onBack:u,onLevelComplete:b,onLevelFail:g},a);case"settings":return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 text-white text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Configuraci\xf3n"}),(0,s.jsx)("p",{className:"mb-4",children:"Pr\xf3ximamente..."}),(0,s.jsx)("button",{onClick:u,className:"bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl border-2 border-white/30 hover:bg-white/30 transition-all duration-300",children:"Volver"})]})});case"ranking":return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 text-white text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Ranking"}),(0,s.jsx)("p",{className:"mb-4",children:"Pr\xf3ximamente..."}),(0,s.jsx)("button",{onClick:u,className:"bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl border-2 border-white/30 hover:bg-white/30 transition-all duration-300",children:"Volver"})]})});default:return null}})()})}},7920:(e,t,a)=>{Promise.resolve().then(a.bind(a,1415))}},e=>{e.O(0,[66,733,804,364,615,441,255,358],()=>e(e.s=7920)),_N_E=e.O()}]);